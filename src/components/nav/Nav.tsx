"use client"
import { useState } from "react";
import Button from "../common/Button";
import NavDropdown from "./NavDropdown";
import NavMobileButton from "./NavMobileButton";
import NavThemeSwitcher from "./NavThemeSwitcher";

export default function Nav() {
    // mobile nav open state
    const [isOpen, setIsOpen] = useState(false);

    const handleOpen = () => {
        setIsOpen(!isOpen);
        console.log(isOpen)
    }

    return (
        <>
        <nav className={`fixed top-0 left-0 z-11 ${isOpen ? "bg-white" : "bg-primary"} w-full h-[80px] transition duration-300 ease-in-out`}>
            <div className="border-b border-white/10 lg:mx-[11vw] md:mx-[64px] mx-[24px] flex items-center h-full md:w-[calc(100%-128px)] lg:w-[calc(100%-22vw)]">

            {/* nav opener mobile button */}
            <NavMobileButton onClick={handleOpen} opened={isOpen} />

            {/* logo */}
            <div className="flex gap-[12px] lg:mr-[64px] md:mr-[32px] items-center">
            <svg className={`transition duration-300 ease-in-out ${isOpen ? "fill-black" : "fill-white"}`} width="23" height="30" viewBox="0 0 23 30">
                <path d="M16.2678 14.0671C16.48 14.2225 16.7421 14.2938 17.0037 14.2672C17.2652 14.2407 17.5077 14.1182 17.6843 13.9234C18.0789 13.4399 17.8516 12.878 17.3629 12.6167C13.9046 10.4037 9.8341 9.34325 5.73566 9.5877C5.01745 9.6312 4.30644 9.75569 3.61616 9.95881C2.95956 10.1887 2.34834 10.5319 1.81028 10.9728C1.23113 11.467 0.769802 12.0844 0.460055 12.7799C0.150307 13.4753 -2.24398e-05 14.2312 0.0200694 14.9923C-0.00867847 16.5447 0.587188 18.165 1.84948 19.0562C2.48681 19.5129 3.19247 19.8657 3.94023 20.1016C4.52156 20.2556 5.11539 20.358 5.71476 20.4073C12.1098 20.7 17.5955 17.9481 20.8204 14.5846C21.8318 13.4713 22.7335 12.1306 22.7335 10.6357C22.7335 9.32897 21.9965 7.71125 20.8204 6.45418C18.0267 3.49838 12.3764 0.197608 5.64419 0.634052C2.16832 0.861421 0.00961537 2.93127 0.00961537 6.03603C-0.0180682 7.28549 0.406016 8.50299 1.20396 9.46487C1.35674 9.64002 1.56353 9.75927 1.79166 9.80376C2.01979 9.84825 2.25624 9.81544 2.46364 9.71053H2.47932C2.597 9.65522 2.69969 9.57249 2.77878 9.46928C2.85786 9.36607 2.91103 9.24539 2.93382 9.11737C2.9566 8.98935 2.94835 8.85774 2.90973 8.73357C2.87112 8.60941 2.80328 8.49633 2.71191 8.40381C2.4178 8.08544 2.18932 7.71222 2.03955 7.30549C1.88977 6.89876 1.82163 6.4665 1.83902 6.03342C1.83902 3.92437 3.26858 2.62027 5.75918 2.45823C11.859 2.0636 16.9656 5.0377 19.4876 7.70863C20.4075 8.68345 20.9041 9.88302 20.9067 10.5207C20.9053 10.6221 20.8975 10.7234 20.8832 10.8239C20.8675 10.9127 20.8361 11.0042 20.8126 11.0852C19.3621 15.2667 12.0576 19.0379 5.75657 18.5779C3.64491 18.4969 1.78153 17.2712 1.83641 15.0027C1.95402 8.92388 12.6979 11.7124 16.2678 14.0671ZM20.4807 16.0638C20.36 16.1266 20.2541 16.2144 20.1702 16.3215C20.0862 16.4285 20.0262 16.5523 19.994 16.6845C19.9618 16.8166 19.9583 16.9542 19.9836 17.0878C20.009 17.2215 20.0626 17.3482 20.1409 17.4594C20.6166 18.1728 20.925 18.9464 20.925 19.4639C20.925 23.1985 11.9217 28.1065 5.76702 27.529C3.2738 27.3669 1.84686 26.0628 1.84686 23.9512C1.81696 23.0808 2.09454 22.2277 2.6309 21.5416C2.71896 21.4367 2.78112 21.3126 2.81236 21.1793C2.8436 21.046 2.84304 20.9072 2.81073 20.7742C2.77842 20.6411 2.71527 20.5176 2.62637 20.4134C2.53748 20.3093 2.42533 20.2275 2.29899 20.1747C2.13115 20.1051 1.94585 20.089 1.76852 20.1288C1.59119 20.1685 1.4305 20.2622 1.3085 20.3969C0.434897 21.3712 -0.0326584 22.643 0.00177537 23.9512C-0.0740144 27.5891 3.10654 29.5857 6.84376 29.3923C13.6387 29.4577 22.7309 24.7953 22.7309 19.4613C22.7309 18.5805 22.3467 17.5064 21.6855 16.4846C21.5672 16.2829 21.3811 16.1298 21.1604 16.0528C20.9397 15.9757 20.6988 15.9796 20.4807 16.0638Z"/>
            </svg>
            <svg width="71" height="18" viewBox="0 0 71 18" className={`transition duration-300 ease-out ${isOpen ? "fill-black" : "fill-white"}`}>
                <path d="M64.9024 17.6856C63.6826 17.6856 62.6091 17.4335 61.682 16.9292C60.7548 16.4088 60.031 15.6687 59.5106 14.7091C59.0063 13.7332 58.7542 12.5865 58.7542 11.269C58.7542 10.0491 59.0063 8.96748 59.5106 8.0241C60.0148 7.06446 60.7305 6.3244 61.6576 5.80392C62.5847 5.28343 63.6582 5.02319 64.878 5.02319C66.1305 5.02319 67.1958 5.34849 68.0741 5.9991C68.9687 6.63344 69.6356 7.45482 70.0747 8.46326C70.5139 9.45543 70.7335 10.4801 70.7335 11.5374V12.1229H61.1452C61.1452 12.5458 61.2672 13.0338 61.5112 13.5868C61.7552 14.1398 62.1536 14.6196 62.7067 15.0262C63.2597 15.4329 63.9672 15.6362 64.8293 15.6362C65.8865 15.6362 66.6672 15.4166 67.1714 14.9774C67.6756 14.522 68.0009 13.8958 68.1473 13.0988H70.6115C70.5464 13.8958 70.2781 14.644 69.8064 15.3434C69.3347 16.0428 68.676 16.6121 67.8302 17.0512C66.9844 17.4741 66.0085 17.6856 64.9024 17.6856ZM68.2205 10.1955C68.1067 9.38224 67.7488 8.65844 67.147 8.0241C66.5615 7.38976 65.7889 7.0726 64.8293 7.0726C63.8371 7.0726 62.9994 7.38163 62.3163 7.99971C61.6494 8.61778 61.2672 9.34971 61.1696 10.1955H68.2205Z"/>
                <path d="M52.7682 17.6367C51.3531 17.6367 50.1576 17.2707 49.1817 16.5388C48.2058 15.7906 47.6446 14.774 47.4983 13.4891H49.9136C50.06 14.2048 50.3853 14.7578 50.8895 15.1481C51.3938 15.5222 52.0037 15.7093 52.7194 15.7093C54.3784 15.7093 55.2079 15.1807 55.2079 14.1234C55.2079 13.7493 55.0859 13.4484 54.842 13.2207C54.6142 12.993 54.2808 12.8141 53.8416 12.684C53.4025 12.5376 52.76 12.3749 51.9142 12.196C50.7919 11.9683 49.8404 11.5373 49.0597 10.9029C48.2953 10.2686 47.913 9.39842 47.913 8.2924C47.913 7.18637 48.3684 6.34872 49.2793 5.77944C50.2064 5.19389 51.2962 4.90112 52.5486 4.90112C53.4919 4.90112 54.3133 5.08004 55.0127 5.43787C55.7284 5.77944 56.2814 6.25113 56.6718 6.85294C57.0784 7.45474 57.298 8.12975 57.3305 8.87794H54.9639C54.8989 8.17854 54.6712 7.66619 54.2808 7.34089C53.8904 6.99932 53.313 6.82854 52.5486 6.82854C51.9142 6.82854 51.3856 6.95866 50.9627 7.2189C50.5398 7.46288 50.3284 7.82071 50.3284 8.2924C50.3284 8.82915 50.548 9.23577 50.9871 9.51228C51.4263 9.78879 51.9874 10.0002 52.6706 10.1466C54.1344 10.4557 55.3299 10.9029 56.257 11.4885C57.2004 12.0578 57.6721 12.9361 57.6721 14.1234C57.6721 15.2295 57.2167 16.0915 56.3058 16.7096C55.4112 17.3277 54.232 17.6367 52.7682 17.6367Z"/>
                <path d="M39.738 17.6613C38.9573 17.6613 38.2498 17.5068 37.6154 17.1977C36.9973 16.8724 36.5094 16.4496 36.1516 15.9291C35.7937 15.3923 35.6148 14.8149 35.6148 14.1968C35.6148 13.4812 35.8019 12.8062 36.176 12.1718C36.5501 11.5375 37.1437 11.0495 37.957 10.708C38.7214 10.3989 39.4534 10.2038 40.1528 10.1224C40.8522 10.0248 41.7793 9.97604 42.9341 9.97604H43.7392V8.75616C43.7392 8.08929 43.4383 7.60947 42.8365 7.3167C42.251 7.00766 41.641 6.85314 41.0067 6.85314C40.2422 6.85314 39.5998 7.03206 39.0793 7.38989C38.5751 7.73146 38.3229 8.30887 38.3229 9.12213H35.9076C35.9076 7.43056 36.4199 6.30013 37.4446 5.73085C38.4693 5.14531 39.6567 4.85254 41.0067 4.85254C42.6983 4.85254 43.9832 5.21037 44.8615 5.92603C45.7398 6.6417 46.179 7.58507 46.179 8.75616L46.1546 14.3188C46.1546 15.5875 46.3498 16.6122 46.7401 17.3929H44.276C43.9181 16.8562 43.7392 16.1812 43.7392 15.3679H43.6172C43.3082 16.1974 42.804 16.7911 42.1046 17.149C41.4052 17.4905 40.6163 17.6613 39.738 17.6613ZM38.1278 14.1968C38.1278 14.7011 38.3229 15.0914 38.7133 15.3679C39.1037 15.6282 39.5347 15.7583 40.0064 15.7583C41.0311 15.7583 41.9094 15.5062 42.6413 15.002C43.3733 14.4977 43.7392 13.7983 43.7392 12.9038V11.7083C42.682 11.7245 41.8443 11.7652 41.2263 11.8303C40.6082 11.8791 40.0145 12.0254 39.4452 12.2694C39.0711 12.4158 38.754 12.6517 38.4937 12.977C38.2498 13.3023 38.1278 13.7089 38.1278 14.1968Z"/>
                <path d="M28.4013 17.6856C27.1814 17.6856 26.1079 17.4335 25.1808 16.9292C24.2537 16.4088 23.5299 15.6687 23.0094 14.7091C22.5052 13.7332 22.2531 12.5865 22.2531 11.269C22.2531 10.0491 22.5052 8.96748 23.0094 8.0241C23.5136 7.06446 24.2293 6.3244 25.1564 5.80392C26.0835 5.28343 27.157 5.02319 28.3769 5.02319C29.6293 5.02319 30.6946 5.34849 31.573 5.9991C32.4675 6.63344 33.1344 7.45482 33.5736 8.46326C34.0127 9.45543 34.2323 10.4801 34.2323 11.5374V12.1229H24.644C24.644 12.5458 24.766 13.0338 25.01 13.5868C25.254 14.1398 25.6525 14.6196 26.2055 15.0262C26.7585 15.4329 27.466 15.6362 28.3281 15.6362C29.3853 15.6362 30.166 15.4166 30.6702 14.9774C31.1745 14.522 31.4998 13.8958 31.6461 13.0988H34.1103C34.0452 13.8958 33.7769 14.644 33.3052 15.3434C32.8335 16.0428 32.1748 16.6121 31.329 17.0512C30.4832 17.4741 29.5073 17.6856 28.4013 17.6856ZM31.7193 10.1955C31.6055 9.38224 31.2477 8.65844 30.6458 8.0241C30.0603 7.38976 29.2877 7.0726 28.3281 7.0726C27.3359 7.0726 26.4982 7.38163 25.8151 7.99971C25.1482 8.61778 24.766 9.34971 24.6684 10.1955H31.7193Z"/>
                <path d="M17.3659 7.63369C17.7887 6.78791 18.415 6.12917 19.2445 5.65748C20.074 5.18579 20.9035 4.94995 21.733 4.94995V7.26773C21.5866 7.25146 21.3752 7.24333 21.0987 7.24333C18.6752 7.24333 17.4634 8.49574 17.4634 11.0006V17.3927H15.0237V5.19393H17.3659V7.63369Z"/>
                <path d="M0.733475 0.314697H6.39373C8.24795 0.314697 9.64675 0.696927 10.5901 1.46139C11.5498 2.22585 12.0296 3.29934 12.0296 4.68188C12.0296 5.56019 11.81 6.34905 11.3708 7.04845C10.9317 7.74785 10.216 8.17074 9.22386 8.31713C9.87446 8.34966 10.4925 8.5611 11.0781 8.95147C11.6799 9.32556 12.1597 9.83791 12.5175 10.4885C12.8916 11.1229 13.0787 11.8223 13.0787 12.5867C13.0787 13.9855 12.794 15.0346 12.2248 15.734C11.6718 16.4171 10.9236 16.8644 9.98018 17.0759C9.05307 17.2873 7.85759 17.393 6.39373 17.393H0.733475V0.314697ZM6.39373 15.0753C7.72747 15.0753 8.7359 14.8882 9.41904 14.5141C10.1022 14.1238 10.4437 13.3593 10.4437 12.2207C10.4437 10.3828 9.09373 9.46381 6.39373 9.46381H3.34402V15.0753H6.39373ZM6.39373 7.09724C7.4347 7.09724 8.20729 6.87767 8.7115 6.43851C9.21572 5.98308 9.46783 5.39754 9.46783 4.68188C9.46783 3.99874 9.21572 3.49452 8.7115 3.16922C8.20729 2.84392 7.4347 2.68127 6.39373 2.68127H3.34402V7.09724H6.39373Z"/>
            </svg>
            </div>

            {/* nav items */}
            <div className="hidden gap-[8px] md:flex">
                <NavDropdown>Product</NavDropdown>
                <NavDropdown>Solutions</NavDropdown>
                <NavDropdown>Resources</NavDropdown>
                <NavDropdown>Pricing</NavDropdown>
            </div>

            {/* theme switcher */}
            <div className="ml-auto flex items-center gap-[24px]">
            <NavThemeSwitcher />
            <div className="flex">
                <Button color={isOpen ? "transparent-black" : "transparent-white"} type="primary" arrow={false}>Log In</Button>
                <Button color={isOpen ? "black" : "white"} type="primary" arrow={false}>Sign Up</Button>
            </div>
            </div>

            </div>
        </nav>
        <div className={`fixed ${isOpen ? "opacity-100 pointer-events-auto" : "opacity-0 pointer-events-none"} transition duration-300 ease-in-out z-10 top-0 left-0 w-screen h-screen bg-white pt-[120px]`}>

            <div className="flex flex-col w-screen">
                <div className="flex p-[24px] justify-between w-full border-b-1 border-showcaseborder">
                    <p className="font-rale-grotesk-base-semibold text-h4-mobile leading-h4-mobile text-heading">Product</p>
                    <img src="downarrow.svg" className="w-[10px] invert" />
                </div>
                <div className="flex p-[24px] justify-between w-full border-b-1 border-showcaseborder">
                    <p className="font-rale-grotesk-base-semibold text-h4-mobile leading-h4-mobile text-heading">Solutions</p>
                    <img src="downarrow.svg" className="w-[10px] invert" />
                </div>
                <div className="flex p-[24px] justify-between w-full border-b-1 border-showcaseborder">
                    <p className="font-rale-grotesk-base-semibold text-h4-mobile leading-h4-mobile text-heading">Resources</p>
                    <img src="downarrow.svg" className="w-[10px] invert" />
                </div>
                <div className="flex p-[24px] justify-between w-full">
                    <p className="font-rale-grotesk-base-semibold text-h4-mobile leading-h4-mobile text-heading">Pricing</p>
                </div>
            </div>

        </div>
        </>

    )
}